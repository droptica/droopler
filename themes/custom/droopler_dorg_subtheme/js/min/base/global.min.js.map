{"version":3,"sources":["global.js"],"names":["$","Drupal","behaviors","droopler_theme","attach","context","settings","$body","clampTitle","containers","document","querySelectorAll","Array","prototype","forEach","call","container","p","querySelector","divh","clientHeight","offsetHeight","textContent","replace","hasClass","window","scroll","this","scrollTop","addClass","removeClass","resize","hover","find","on","touchstart","parent","jQuery"],"mappings":"CAKA,SAAWA,EAAGC,GAEZ,aAyDSA,OAvDFC,UAAUC,eAAiB,CAChCC,OAAQ,SAAUC,EAASC,GACzB,IAAIC,EAAQP,EAAE,QAqBd,SAASQ,IACP,IAAIC,EAAaC,SAASC,iBAAiB,wCAC3CC,MAAMC,UAAUC,QAAQC,KAAKN,EAAY,SAAUO,GAGjD,IAFA,IAAIC,EAAID,EAAUE,cAAc,QAC5BC,EAAOH,EAAUI,aACdH,EAAEI,aAAeF,GACtBF,EAAEK,YAAcL,EAAEK,YAAYC,QAAQ,cAAe,SA1BvDhB,EAAMiB,SAAS,sBAGnBxB,EAAEyB,QAAQC,OAAO,WACW,GAAtB1B,EAAE2B,MAAMC,YACV5B,EAAE,QAAQ6B,SAAS,YAGnB7B,EAAE,QAAQ8B,YAAY,cAI1B9B,EAAGyB,QAASM,OAAO,WACjBvB,MAEFA,IAiBAR,EAAE,sDAAsDgC,MAAM,WAG5DhC,EAAE2B,MAAME,SAAS,cACjB7B,EAAE2B,MAAMM,KAAK,kBAAkBJ,SAAS,eACvC,WAED7B,EAAE2B,MAAMG,YAAY,cAAcA,YAAY,QAC9C9B,EAAE2B,MAAMM,KAAK,kBAAkBH,YAAY,cAAcA,YAAY,UAIvE9B,EAAE,uBAAuBkC,GAAG,CAAEC,WAAe,WAC3CnC,EAAE2B,MAAMS,SAASN,YAAY,cAC7B9B,EAAE2B,MAAMS,SAASH,KAAK,kBAAkBH,YAAY,iBAEtDvB,EAAMsB,SAAS,uBAvDrB,CA2DGQ","file":"global.min.js","sourcesContent":["/**\n * @file\n * Global utilities.\n *\n */\n(function ($, Drupal) {\n\n  \"use strict\";\n\n  Drupal.behaviors.droopler_theme = {\n    attach: function (context, settings) {\n      var $body = $('body');\n      if ($body.hasClass('d-theme-preceded')) {\n        return;\n      }\n      $(window).scroll(function() {\n        if ($(this).scrollTop() > 50) {\n          $(\"body\").addClass(\"scrolled\");\n        }\n        else{\n          $(\"body\").removeClass(\"scrolled\");\n        }\n      });\n\n      $( window ).resize(function() {\n        clampTitle();\n      });\n      clampTitle();\n\n      /**\n       * Triger title to 2 lines and add ... .\n       */\n      function clampTitle() {\n        var containers = document.querySelectorAll('.product-teaser-content .node__title');\n        Array.prototype.forEach.call(containers, function (container) {\n          var p = container.querySelector('span');\n          var divh = container.clientHeight;\n          while (p.offsetHeight > divh) {\n            p.textContent = p.textContent.replace(/\\W*\\s(\\S)*$/, '...');\n          }\n        });\n      }\n\n      // Enable hover on dropdowns.\n      $(\"#header .dropdown, .language-switcher-language-url\").hover(function() {\n        // We don't manipulate on default \"show\" class here.\n        // Using additional class prevents mobile bugs.\n        $(this).addClass(\"force-show\");\n        $(this).find(\".dropdown-menu\").addClass(\"force-show\");\n      }, function() {\n        // On hover out remove also default \"show\" class.\n        $(this).removeClass(\"force-show\").removeClass(\"show\");\n        $(this).find(\".dropdown-menu\").removeClass(\"force-show\").removeClass(\"show\");\n      });\n\n      // Prevent hover on touch devices - revert to default behavior.\n      $('.menu-dropdown-icon').on({ 'touchstart' : function(){\n        $(this).parent().removeClass('force-show');\n        $(this).parent().find(\".dropdown-menu\").removeClass('force-show');\n      } });\n      $body.addClass(\"d-theme-preceded\")\n    }\n  };\n\n})(jQuery, Drupal);\n"]}