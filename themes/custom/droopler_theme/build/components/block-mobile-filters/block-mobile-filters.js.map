{"version":3,"file":"/components/block-mobile-filters/block-mobile-filters.js","mappings":"CAKA,SAAWA,EAAGC,GACZ,aAOAA,EAAOC,UAAUC,oBAAsB,CACrCC,OAAQ,SAAUC,EAASC,GAEzBN,EAAE,6DAA8DK,GAASE,QAAO,WAC9EP,EAAEQ,MAAMC,QAAQ,QAAQC,QAC1B,GACF,GAQFT,EAAOC,UAAUS,eAAiB,CAChCP,OAAQ,SAAUC,EAASC,GACzB,IAAMM,EAAUZ,EAAE,6CAA8CK,GAC1DQ,EAAeb,EACnB,sFACAK,GAGFO,EAAQE,OAAM,WACZd,EAAE,QAAQe,SAAS,CAAC,yBAA0B,mBAChD,IAEAF,EAAaC,OAAM,WACjBd,EAAE,QAAQgB,YAAY,CAAC,yBAA0B,mBACnD,IAEAhB,EAAEiB,QAAQC,QAAO,WACXD,OAAOE,YAAc,KACvBN,EAAaC,OAEjB,GACF,GAQFb,EAAOC,UAAUkB,qBAAuB,CACtChB,OAAQ,SAAUC,EAASC,GACzBN,EAAE,uCAAwCK,GAASgB,MAAK,WACtDrB,EAAEQ,MAAMO,SAAS,aACSf,EAAE,yBAA0BK,GAASiB,OACrC,GACxBtB,EAAEQ,MAAMO,SAAS,wBAErB,GACF,EAEH,CA9DD,CA8DGQ,OAAQtB","sources":["webpack://Droopler_theme/./src/components/block-mobile-filters/block-mobile-filters.js"],"sourcesContent":["/**\n * @file\n * Products search.\n */\n\n(function ($, Drupal) {\n  'use strict';\n\n  /**\n   * Autosubmit on sort button.\n   *\n   * @type {{attach: Drupal.behaviors.search_page_actions.attach}}\n   */\n  Drupal.behaviors.search_page_actions = {\n    attach: function (context, settings) {\n      // Auto submit on sort by change.\n      $('form#views-exposed-form-products-list-products-list select', context).change(function () {\n        $(this).closest('form').submit();\n      });\n    },\n  };\n\n  /**\n   * Mobile view, menu buttons.\n   *\n   * @type {{attach: Drupal.behaviors.mobile_filters.attach}}\n   */\n  Drupal.behaviors.mobile_filters = {\n    attach: function (context, settings) {\n      const $button = $('.block-mobile-filters button.mobile-filter', context);\n      const $buttonClose = $(\n        '.page-views__content-column--aside button.mobile-filter-close, .page-views__overlay',\n        context,\n      );\n\n      $button.click(function () {\n        $('body').addClass(['navigation-bar-visible', 'overflow-hidden']);\n      });\n\n      $buttonClose.click(function () {\n        $('body').removeClass(['navigation-bar-visible', 'overflow-hidden']);\n      });\n\n      $(window).resize(function () {\n        if (window.innerWidth >= 992) {\n          $buttonClose.click();\n        }\n      });\n    },\n  };\n\n  /**\n   * Processing mobile filter, add class active.\n   *\n   * @type {{attach: Drupal.behaviors.mobie_filters_active.attach}}\n   */\n  Drupal.behaviors.mobie_filters_active = {\n    attach: function (context, settings) {\n      $('button.mobile-filter:not(.processed)', context).each(function () {\n        $(this).addClass('processed');\n        var $activeFacetCounter = $('.facet-item .is-active', context).length;\n        if ($activeFacetCounter > 0) {\n          $(this).addClass('mobile-filters-active');\n        }\n      });\n    },\n  };\n})(jQuery, Drupal);\n"],"names":["$","Drupal","behaviors","search_page_actions","attach","context","settings","change","this","closest","submit","mobile_filters","$button","$buttonClose","click","addClass","removeClass","window","resize","innerWidth","mobie_filters_active","each","length","jQuery"],"sourceRoot":""}